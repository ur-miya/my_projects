# pet_projects
В файле Hyp_test.ipynb представлены шаги анализа данных по транзакциям.
## Шаг 1. Изучение данных
Прежде всего было принято решение рассмотреть, какие данные есть, использовала наименования столбцов таблицы. За генерацией идей, которые можно проверить на таком наборе данных я обратилась к ИИ, чтобы лучше понять специфику гипотез. 
## Шаг 2. Формулирование гипотез
После того, как ИИ предложил несколько вариантов того, что можно проверить, были выбраны те, которые мне показались наиболее значимыми:
1) зависимость активности мошенников от времени дня
2) зависимость мошеннических транзакций от времени между транзакциями от одного клиента
3) зависимость защищённости от мошенников и типа карты
4) зависимость мошеннических операций и каналов транзакций
5) зависимость между мошенническими транзакциями и степенью рискованности вендора
6) территориальная зависимость внутренних и загрничных транзакций
## Шаг 3. Проверка гипотез
Далее с помощью статистических тестов и операций Python проходила проверка поставленных гипотез. Были использованы тест Хи-квадрат для поиска зависимости между категориальными переменными (г-зы 1, 3, 4, 5), U-тест - для зависимости между числовыми значениями (г-за 2), Z-тест - для проверки направления зависимости (г-за 6). В итоге, были отмечены следующие результаты:
1) зависимость активности мошенников от времени дня - p-value < 0.05: есть зависимость между мошенническим характером транзакций и временем суток
2) зависимость мошеннических транзакций от времени между транзакциями от одного клиента - p-value > 0.05: зависимости не было обнаружено
3) зависимость защищённости от мошенников и типа карты - p-value > 0.05: зависимости не было обнаружено
4) зависимость мошеннических операций и каналов транзакций - p-value < 0.05: наибольшее количсетво мошеннических каналов было через канал pos
5) зависимость между мошенническими транзакциями и степенью рискованности вендора - p-value > 0.05: зависимости не было обнаружено
6) территориальная зависимость внутренних и загрничных транзакций - p-value < 0.05: доля мошеннических транзакций из-за границе намного больше, чем доля внутренних мошеннических транзакций
## Шаг 4. Визуализация данных
Для гипотез с наличием значимости были построены графики для наглядности
## Шаг 5. Построение модели случайного леса
Данная модель была выбрана как распространённый и знакомый классификатор с целью предсказания мошенницеских транзакций. в качестве независимых переменных были выбраны те, которые показали статистическую значимость на проверке гипотез, т.е. часы транзакции, территория, канал. Были выбраны и другие признаки, не участвующие в гипотезах для более точной работы классификатора.
После подготовки данных, модель случайного леса была обучена, а качество её работы оценено. Результаты оценки:
| Fraud | precision|recall | f1-score | support|       
|-------|----------|-------|----------|--------|
| False | 0.98     |0.89   |0.94      |1197810 |
| True  | 0.69     |0.93   |0.79      | 298944 |
| accuracy|        |       |0.90      | 1496754|

|ROC-AUC | 
|--------|
| 0.9712 |

По результатам, можно сказать, что модель предсказала достаточно хорошо.
